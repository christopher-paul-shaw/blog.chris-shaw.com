<html>
	<head>
		<title>Blog \ Easy Install Ssl Certificate On Linux For Https</title>
		<link rel="stylesheet" media="screen" href="https://toolkit.chris-shaw.com/css/toolkit.css" />
		<link rel="stylesheet" media="screen" href="/assets/github.css" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<script>
		var xhr = new XMLHttpRequest();
		xhr.open( "GET", "https://menu.chris-shaw.com/", true);
		xhr.onreadystatechange = function () {
			if (xhr.readyState == 4) {
				var parser = new DOMParser();
				var newDom = parser.parseFromString(xhr.responseText,"text/html");	   	
				let nav = newDom.querySelector(".c-nav");
				document.querySelector('body').prepend(nav);
			}
		}
		xhr.send( null );
		
		
	
		</script>
	
		<style>
			.hide {display: none;}
		</style>

	
	</head>

	<body>
		<div class="o-container u-margin-top--small markdown">
			<p><a href="/">&lt;&lt; Back</a></p>
<h1>Easy Install Ssl Certificate On Linux For Https</h1>
<p>Posted on <em>Friday 15th December 2017</em></p>
<p>As everything is gradually moving to the internet, it's becoming a haven for malicious people to steal and manipulate data to their own ends. One of the main ways to protect against this is by encrypting the information shared between your website, and the client. This can be achieved with SSL.</p>
<h2>What is SSL</h2>
<blockquote>
<p></p>
</blockquote>
<p>You can tell if a website is using SSL by the web address starting in https:// and by a lock icon being shown before the address. </p>
<p>Until recently I used the SSL provided by the Content Delivery Network (CDN) cloudflare.
I thought it would be complicated to set this up locally, and as I was already using cloudflare I decided to use their option.</p>
<p>I had been using this offering for free for several years until I decided it was time to look further into hosting my own SSL Certificate, and to my surprise it was a lot easier to setup then I first anticipated.</p>
<p><strong>For this method you need SSH root access to your server. </strong></p>
<h2>Setting Up SSL</h2>
<p>The following is intended for usage on Debian 9 using apache, the method may be slightly different so when prompted download the correct version for your system and setup.</p>
<h3>1) Download Certbot</h3>
<p>Certbot is a utility for signing SSL Certificates with LetsEncrypt, a service which provides SSL certificates for free.
You can download this from <a href="https://certbot.eff.org/">https://certbot.eff.org/</a> or on debian based systems the following command.</p>
<pre><code>sudo apt-get install python-certbot-apache </code></pre>
<h3>2) Running Certbot</h3>
<p>Certbot automates the installation of certificates on multiple platforms, and as it requires root privileges we need to run it using sudo.</p>
<p>In the snippet below we are telling the super user (root) to run certbot for the apache environment. This will automatically get the SSL Certificates and apply the required changes to the virtual</p>
<pre><code>sudo certbot --apache</code></pre>
<p>Or if you would rather download just the certificate and manually edit the virtualhosts file, then pass the certonly option.</p>
<pre><code>sudo certbot --apache certonly</code></pre>
<p>It will give you a list of sites to enable ssl for, just enter the numeric value for each and hit enter.</p>
<p><img src="https://www.chris-shaw.com/asset/images/articles/certbot-1-clean.PNG" alt="Sites" /></p>
<p>After retrieving the SSL Certificate, It will ask if you want the Easy or Secure option. It is best to use the Secure option and it will always force the user onto the encrypted version. </p>
<p><img src="https://www.chris-shaw.com/asset/images/articles/certbot-2-clean.PNG" alt="HTTPS Options" /></p>
<h3>3) Renewal</h3>
<p>SSL Certificates are not permanent, they expire after a period of time. So we need to ensure that these are automatically updated. This is included within certbot.</p>
<p>To test the renewal, run the following test</p>
<pre><code> sudo certbot renew --dry-run</code></pre>
<p>Once this has worked, you will need to setup a cron to run the following command at least once every three months.</p>
<pre><code>sudo certbot renew</code></pre>
		</div>
	</body>
	<script>
		var searchBox =  document.getElementById('search');
		if (searchBox) {
			searchBox.addEventListener("keyup", function(){
			let articles = document.querySelectorAll(".article");
				for (var i = 0; i < articles.length; i++) {
				    let current = articles[i]; 
				    let title = current.querySelectorAll("a")[0].innerHTML;  
				    let haystack = title.toLowerCase();
				    let needle = this.value.toLowerCase();
				    if(haystack.includes(needle)) {
				      current.classList.remove('hide');
				    }
				    else {
				      current.classList.add('hide');
				    } 
				}
			});
		}
		</script>
</html>
