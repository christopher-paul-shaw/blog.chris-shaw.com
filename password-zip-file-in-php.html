<html>
	<head>
		<title>Blog \ Password Zip File In Php</title>
		<link rel="stylesheet" media="screen" href="https://toolkit.chris-shaw.com/css/toolkit.css" />
		<link rel="stylesheet" media="screen" href="/assets/github.css" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<script>
		var xhr = new XMLHttpRequest();
		xhr.open( "GET", "https://menu.chris-shaw.com/", true);
		xhr.onreadystatechange = function () {
			if (xhr.readyState == 4) {
				var parser = new DOMParser();
				var newDom = parser.parseFromString(xhr.responseText,"text/html");	   	
				let nav = newDom.querySelector(".c-nav");
				document.querySelector('body').prepend(nav);
			}
		}
		xhr.send( null );
		
		
	
		</script>
	
		<style>
			.hide {display: none;}
		</style>

	
	</head>

	<body>
		<div class="o-container u-margin-top--small markdown">
			<p><a href="/">&lt;&lt; Back</a></p>
<h1>Password Zip File In Php</h1>
<p>Posted on <em>Friday 7th June 2019</em></p>
<p>In PHP you can open and read ZIP archives, including ones with passwors through the use of ZipArchive, but there are scenarios where you may 
want to create an archive and add a password. This is not currently supported by ZipArchive but can be achieved by using a cli command executed by php.</p>
<h2>Requrements</h2>
<ul>
<li>PHP</li>
<li>Linux / Unix based host</li>
<li>zip command</li>
</ul>
<h2>Code</h2>
<pre><code>&lt;?php
    $fileName = "myfile.txt";
    $zipName = "myZip.zip"
    $password = 'mypassword';
    system("zip -P $password $zipName $fileName");</code></pre>
		</div>
	</body>
	<script>
		var searchBox =  document.getElementById('search');
		if (searchBox) {
			searchBox.addEventListener("keyup", function(){
			let articles = document.querySelectorAll(".article");
				for (var i = 0; i < articles.length; i++) {
				    let current = articles[i]; 
				    let title = current.querySelectorAll("a")[0].innerHTML;  
				    let haystack = title.toLowerCase();
				    let needle = this.value.toLowerCase();
				    if(haystack.includes(needle)) {
				      current.classList.remove('hide');
				    }
				    else {
				      current.classList.add('hide');
				    } 
				}
			});
		}
		</script>
</html>
